<ng-container *ngrxLet="activeCurrency$; let activeCurrency">
  <div class="languages">
    <h2 class="languages__title">Choose currency:</h2>
    <ul class="languages__list">
      <li *ngFor="let item of currencies | keyvalue" class="languages__list-item">
        <cc-currency-button
          [currency]="item.value"
          [isActive]="item.value === activeCurrency"
          (setActiveCurrency)="setActiveCurrency($event)"
        ></cc-currency-button>
      </li>
    </ul>
  </div>
  <ul *ngrxLet="currencyPairsRates$; let currencyPairsRates" class="product-list">
    <li
      *ngFor="let product of products$ | ngrxPush; trackByKey: 'uuid'; let i = index"
      class="product-list__item product"
    >
      <img class="product__img" [src]="product.image" alt="product-image" />
      <div class="product__info">
        <span class="product__name" [innerText]="product.name"></span>
        <span class="product__price">
          {{
            (product.price | priceInfo: currencyPairsRates)[currencyPairsNames[activeCurrency]]
              | currency: activeCurrency:'symbol-narrow'
          }}
        </span>
      </div>
    </li>
  </ul>
  <div *ngrxLet="currencyPairsRates$; let currencyPairsRates" class="total">
    Total:
    {{
      (totalProductsPrice$ | ngrxPush | priceInfo: currencyPairsRates)[currencyPairsNames[activeCurrency]]
        | currency: activeCurrency:'symbol-narrow'
    }}
  </div>
</ng-container>
